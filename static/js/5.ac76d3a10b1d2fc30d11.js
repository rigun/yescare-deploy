webpackJsonp([5],{58:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(74),l=a(98),n=a(12),r=n(i.a,l.a,!1,null,null,null);e.default=r.exports},74:function(t,e,a){"use strict";e.a={mounted:function(){this.getPatien()},data:function(){return{date:1,month:1,year:1998,listMonth:[{number:1,text:"Januari"},{number:2,text:"Februari"},{number:3,text:"Maret"},{number:4,text:"April"},{number:5,text:"Mei"},{number:6,text:"Juni"},{number:7,text:"July"},{number:8,text:"Agustus"},{number:9,text:"September"},{number:10,text:"Oktober"},{number:11,text:"November"},{number:12,text:"Desember"}],typeInput:"new",role:"",stat:"",search:"",table:0,users:[],dialog:!1,load:!1,deleteDialog:!1,editDialog:!1,snackbar:!1,text:"",color:null,reset:!1,editData:{},deleteId:-1,loading:!1,loadData:!0,isPaginated:!0,isPaginationSimple:!0,defaultSortDirection:"desc",currentPage:1,perPage:10,roles:[],patiens:[]}},computed:{patiensList:function(){var t=this;if(this.patiens.length)return this.patiens.filter(function(e,a){return""===t.search||e.name.toLowerCase().includes(t.search.toLowerCase())})},listYear:function(){for(var t=[],e=new Date,a=e.getFullYear(),i=a-5,l=0;l<20;l++)t.push(i-l);return t},listDate:function(){for(var t=[],e=1;e<32;e++)t.push(e);return t}},methods:{resetData:function(){this.deleteDialog=!1,this.deleteId=-1,this.$refs.form.reset(),this.editDialog=!1},getPatien:function(){var t=this;this.editDialog=!1,this.deleteDialog=!1,this.load=!1;var e,a={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};e=this.$apiUrl+"patien",this.$http.get(e,a).then(function(e){t.$refs.form.reset(),t.patiens=e.data;for(var a=0;a<t.patiens.length;a++)null==t.patiens[a].detail&&(t.patiens[a].detail={nik:"",placeOfBirth:"",dateOfBirth:"",gender:"",bloodType:"",address:"",association:"",village:"",subdistrict:"",religion:"",maritalStatus:"",job:"",citizenship:""});t.loadData=!1})},sendData:function(){var t=this;this.load=!0;var e,a={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};e=this.$apiUrl+"patien";var i=new Date(this.year,this.month+1,0);this.date>i&&(this.date=i),this.editData.dateOfBirth=this.year+"-"+this.month+"-"+this.date,this.$http.post(e,this.editData,a).then(function(e){console.log(e),t.getPatien()}).catch(function(e){console.log(e),t.snackbar=!0,t.text="Coba lagi",t.color="error",t.load=!1})},seteditData:function(t){if(this.editData={id:t.id,name:t.name,nik:t.detail.nik,placeOfBirth:t.detail.placeOfBirth,dateOfBirth:t.detail.dateOfBirth,gender:t.detail.gender,bloodType:t.detail.bloodType,address:t.detail.address,association:t.detail.association,village:t.detail.village,subdistrict:t.detail.subdistrict,religion:t.detail.religion,maritalStatus:t.detail.maritalStatus,job:t.detail.job,citizenship:t.detail.citizenship},""!==t.detail.dateOfBirth){var e=new Date(t.detail.dateOfBirth);this.date=e.getDate(),this.month=parseInt(e.getMonth())+1,this.year=e.getFullYear()}},deleteData:function(){var t=this;this.load=!0;var e={headers:{Authorization:"Bearer "+localStorage.getItem("token")}},a=this.$apiUrl+"patien/"+this.deleteId;this.$http.delete(a,e).then(function(e){t.snackbar=!0,t.text="Data berhasil dihapus",t.color="green",t.getPatien()}).catch(function(e){console.log(e),t.snackbar=!0,t.text="Coba Lagi",t.color="red",t.load=!1})},UpdateData:function(){var t=this;this.load=!0;var e,a={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};this.editData.dateOfBirth=this.year+"-"+this.month+"-"+this.date,e=this.$apiUrl+"patien/"+this.editData.id,this.$http.post(e,this.editData,a).then(function(e){console.log(e),t.getPatien()}).catch(function(e){console.log(e),t.getPatien(),t.snackbar=!0,t.text="try again",t.color="error"})}}}},98:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contentlist"},[a("div",{staticClass:"flex-container"},[a("div",{staticClass:"columns m-t-10"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("v-flex",{staticStyle:{"margin-left":"auto"},attrs:{sm6:"","d-flex":""}},[a("v-btn",{attrs:{slot:"activator",color:"blue lighten-2",dark:""},on:{click:function(e){e.preventDefault(),t.editDialog=!0,t.typeInput="new"}},slot:"activator"},[t._v("Tambah Pasien")])],1)],1)]),t._v(" "),a("nav",{staticClass:"level"},[a("div",{staticClass:"level-left"},[a("b-field",{attrs:{grouped:"","group-multiline":""}},[a("b-select",{attrs:{disabled:!t.isPaginated},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[a("option",{attrs:{value:"10"}},[t._v("10 per page")]),t._v(" "),a("option",{attrs:{value:"20"}},[t._v("20 per page")]),t._v(" "),a("option",{attrs:{value:"50"}},[t._v("50 per page")])])],1)],1),t._v(" "),a("div",{staticClass:"level-right"},[a("b-field",[a("b-input",{attrs:{placeholder:"Search...",type:"search",icon:"magnify"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1)]),t._v(" "),a("b-table",{attrs:{data:t.patiensList,paginated:!0,"per-page":t.perPage,"current-page":t.currentPage,loading:t.loadData,"pagination-simple":!0,narrowed:!0,"mobile-cards":!0,striped:!0,hoverable:!0,"default-sort-direction":t.defaultSortDirection,"default-sort":"updated_at"},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{label:"No.",sortable:""}},[t._v(t._s(e.index+1))]),t._v(" "),a("b-table-column",{attrs:{field:"name",label:"Nama"}},[t._v(t._s(e.row.name))]),t._v(" "),a("b-table-column",{attrs:{field:"username",label:"Username"}},[t._v(t._s(e.row.username))]),t._v(" "),a("b-table-column",{attrs:{field:"detail.nik",label:"NIK"}},[t._v(t._s(e.row.detail.nik))]),t._v(" "),a("b-table-column",{attrs:{field:"detail.placeOfBirth",label:"Tempat Lahir"}},[t._v(t._s(e.row.detail.placeOfBirth))]),t._v(" "),a("b-table-column",{attrs:{field:"detail.dateOfBirth",label:"Tanggal Lahir"}},[t._v(t._s(e.row.detail.dateOfBirth))]),t._v(" "),a("b-table-column",{attrs:{field:"detail.gender",label:"Jenis Kelamin"}},[t._v(t._s(e.row.detail.gender))]),t._v(" "),a("b-table-column",{attrs:{field:"detail.bloodType",label:"Golongan Darah"}},[t._v(t._s(e.row.detail.bloodType))]),t._v(" "),a("b-table-column",{attrs:{field:"detail.address",label:"Alamat"}},[t._v(t._s(e.row.detail.address))]),t._v(" "),a("b-table-column",{attrs:{field:"detail.association",label:"RT/RW"}},[t._v(t._s(e.row.detail.association))]),t._v(" "),a("b-table-column",{attrs:{field:"detail.village",label:"Desa"}},[t._v(t._s(e.row.detail.village))]),t._v(" "),a("b-table-column",{attrs:{field:"detail.subdistrict",label:"Kecamatan"}},[t._v(t._s(e.row.detail.subdistrict))]),t._v(" "),a("b-table-column",{attrs:{field:"detail.religion",label:"Agama"}},[t._v(t._s(e.row.detail.religion))]),t._v(" "),a("b-table-column",{attrs:{field:"detail.maritalStatus",label:"Status Perkawinan"}},[t._v(t._s(e.row.detail.maritalStatus))]),t._v(" "),a("b-table-column",{attrs:{field:"detail.job",label:"Pekerajaan"}},[t._v(t._s(e.row.detail.job))]),t._v(" "),a("b-table-column",{attrs:{field:"detail.citizenship",label:"Kewarganegaraan"}},[t._v(t._s(e.row.detail.citizenship))]),t._v(" "),a("b-table-column",{attrs:{field:"created_at",label:"Mendaftar Pada"}},[t._v(t._s(e.row.created_at))]),t._v(" "),a("b-table-column",{attrs:{label:""}},[a("v-menu",{attrs:{transition:"slide-x-transition","offset-x":"",left:""}},[a("v-btn",{attrs:{slot:"activator",icon:""},slot:"activator"},[a("v-icon",[t._v("more_vert")])],1),t._v(" "),a("v-list",[a("v-list-tile",{on:{click:function(a){a.preventDefault(),t.seteditData(e.row),t.editDialog=!0,t.typeInput="edit"}}},[a("v-list-tile-title",[t._v("Ubah")])],1),t._v(" "),a("v-list-tile",{on:{click:function(a){a.preventDefault(),t.deleteId=e.row.id,t.deleteDialog=!0}}},[a("v-list-tile-title",[t._v("Hapus")])],1)],1)],1)],1)]}}])},[t._v(" "),a("template",{slot:"empty"},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-grey has-text-centered"},[a("p",[a("b-icon",{attrs:{icon:"emoticon-sad",size:"is-large"}})],1),t._v(" "),a("p",[t._v("Belum ada data pasien, silahkan tambahkan pasien terlebih dahulu.")])])])])],2),t._v(" "),a("v-snackbar",{attrs:{color:t.color,"multi-line":!0,timeout:3e3},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n        "+t._s(t.text)+"\n        "),a("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n          Close\n        ")])],1),t._v(" "),a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-form",{ref:"form",attrs:{"lazy-validation":""}},[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[a("v-card",[a("v-card-title",[t._v("\n                  Pasien\n              ")]),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{"prepend-inner-icon":"perm_contact_calendar",required:"",label:"NIK"},model:{value:t.editData.nik,callback:function(e){t.$set(t.editData,"nik",e)},expression:"editData.nik"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{"prepend-inner-icon":"keyboard_arrow_down",required:"",label:"Tempat Lahir"},model:{value:t.editData.placeOfBirth,callback:function(e){t.$set(t.editData,"placeOfBirth",e)},expression:"editData.placeOfBirth"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{"prepend-inner-icon":"text_rotation_none",required:"",label:"Nama"},model:{value:t.editData.name,callback:function(e){t.$set(t.editData,"name",e)},expression:"editData.name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[t._v("\n                      Tanggal Lahir\n                    ")]),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-select",{attrs:{items:t.listDate,label:"Tanggal"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-select",{attrs:{items:t.listMonth,"item-value":"number","item-text":"text",label:"Bulan"},model:{value:t.month,callback:function(e){t.month=e},expression:"month"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-select",{attrs:{items:t.listYear,label:"Tahun"},model:{value:t.year,callback:function(e){t.year=e},expression:"year"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{"prepend-inner-icon":"room",required:"",label:"Alamat"},model:{value:t.editData.address,callback:function(e){t.$set(t.editData,"address",e)},expression:"editData.address"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-text-field",{attrs:{"prepend-inner-icon":"group",required:"",label:"RT/RW"},model:{value:t.editData.association,callback:function(e){t.$set(t.editData,"association",e)},expression:"editData.association"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-text-field",{attrs:{"prepend-inner-icon":"contacts",required:"",label:"Kel/Desa"},model:{value:t.editData.village,callback:function(e){t.$set(t.editData,"village",e)},expression:"editData.village"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-text-field",{attrs:{"prepend-inner-icon":"contact_mail",required:"",label:"Kecamatan"},model:{value:t.editData.subdistrict,callback:function(e){t.$set(t.editData,"subdistrict",e)},expression:"editData.subdistrict"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{"prepend-inner-icon":"contact_mail",required:"",label:"Agama"},model:{value:t.editData.religion,callback:function(e){t.$set(t.editData,"religion",e)},expression:"editData.religion"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-autocomplete",{attrs:{"prepend-inner-icon":"nature_people",items:["Belum Kawin","Sudah Kawin"],label:"Status Kawin"},model:{value:t.editData.maritalStatus,callback:function(e){t.$set(t.editData,"maritalStatus",e)},expression:"editData.maritalStatus"}})],1),t._v(" "),a("v-flex",{attrs:{xs6:""}},[a("v-text-field",{attrs:{"prepend-inner-icon":"bookmarks",required:"",label:"Pekerjaan"},model:{value:t.editData.job,callback:function(e){t.$set(t.editData,"job",e)},expression:"editData.job"}})],1),t._v(" "),a("v-flex",{attrs:{xs6:""}},[a("v-autocomplete",{attrs:{"prepend-inner-icon":"landscape",items:["Wni","Wna"],label:"Kependudukan"},model:{value:t.editData.citizenship,callback:function(e){t.$set(t.editData,"citizenship",e)},expression:"editData.citizenship"}})],1),t._v(" "),a("v-flex",{attrs:{xs6:""}},[a("v-autocomplete",{attrs:{"prepend-inner-icon":"account",items:["Laki-laki","Perempuan"],label:"Jenis Kelamin"},model:{value:t.editData.gender,callback:function(e){t.$set(t.editData,"gender",e)},expression:"editData.gender"}})],1),t._v(" "),a("v-flex",{attrs:{xs6:""}},[a("v-autocomplete",{attrs:{"prepend-inner-icon":"landscape",items:["A","B","O","AB"],label:"Golongan Darah"},model:{value:t.editData.bloodType,callback:function(e){t.$set(t.editData,"bloodType",e)},expression:"editData.bloodType"}})],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"red darken-1",dark:""},on:{click:function(e){return t.resetData()}}},[t._v("Batal")]),t._v(" "),"new"==t.typeInput?a("v-btn",{attrs:{color:"blue darken-1",dark:"",loading:t.load},on:{click:function(e){return e.preventDefault(),t.sendData()}}},[t._v("Tambahkan")]):t._e(),t._v(" "),"edit"==t.typeInput?a("v-btn",{attrs:{color:"blue darken-1",dark:"",loading:t.load},on:{click:function(e){return e.preventDefault(),t.UpdateData()}}},[t._v("Update")]):t._e()],1)],1)],1)],1)],1),t._v(" "),a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Hapus Pasien ?")]),t._v(" "),a("v-card-text",[t._v("Pasien yang dihapus akan juga menghapus seluruh data didalamnya dan tidak dapat dikembalikan lagi.")]),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"green darken-1",dark:""},on:{click:function(e){return t.resetData()}}},[t._v("Batal")]),t._v(" "),a("v-btn",{attrs:{color:"red darken-1",dark:"",loading:t.load},on:{click:function(e){return t.deleteData()}}},[t._v("Hapus")])],1)],1)],1)],1)],1)])},l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("h1",{staticClass:"title"},[t._v("Pasien")])])}],n={render:i,staticRenderFns:l};e.a=n}});
//# sourceMappingURL=5.ac76d3a10b1d2fc30d11.js.map